<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="assets_login" inherit_id="web.assets_frontend">
        <xpath expr="." position="inside">
            <link rel="stylesheet" href="/odoo_web_login/static/src/css/web_login_style.css"/>
            <script rel="text/javascript" src="/odoo_web_login/static/src/js/web_login.js"></script>
        </xpath>
    </template>

    <template id="login_layout" inherit_id="web.login_layout" name="Login Layout Inherit">
        <xpath expr="//t[@t-set='body_classname']" position="after">
            <t t-set="body_classname" t-value="''"/>
        </xpath>

        <xpath expr="//div[hasclass('row')]" position="attributes">
            <attribute name="class">body_login</attribute>
        </xpath>

        <xpath expr="//div[hasclass('o_database_list')]" position="before">
            <div id="background-wrapper"
                t-attf-style="background-image: url('#{background_src}');"></div>
        </xpath>

        <xpath expr="//div[hasclass('o_database_list')]" position="attributes">
            <attribute name="class">col-lg-3 col-md-4 col-sm-4 col-xs-11 o_database_list</attribute>
        </xpath>

        <xpath expr="//div[hasclass('text-center')]/img" position="attributes">
            <attribute name="class">company_logo</attribute>
            <attribute t-if="cardmode" name="id">company_logo</attribute>
        </xpath>
    </template>

    <template id="login" inherit_id="web.login" name="Login Inherit">
        <xpath expr="//label[@for='db']" position="replace" />
        <xpath expr="//label[@for='login']" position="replace" />
        <xpath expr="//label[@for='password']" position="replace" />
        <xpath expr="//form[@class='oe_login_form']" position="attributes">
            <attribute name="autocomplete">off</attribute>
        </xpath>
        <xpath expr="//input[@name='login']" position="replace">
            <t t-if="cardmode1">
                <input type="text" name="login"
                    t-att-value="login"
                    id="login"
                    class="form-control hidden disable"
                    autocapitalize="off"
                    placeholder="Email ..."
                    autocomplete="off"
                    autocorrect="off"
                    />
            </t>
            <t t-else="">
                <input type="text" name="login"
                    t-att-value="login"
                    id="login"
                    class="form-control"
                    required="required"
                    autofocus="autofocus"
                    autocapitalize="off"
                    placeholder="Email ..."
                    autocomplete="off"
                    autocorrect="off"
                    />
            </t>
        </xpath>

        <xpath expr="//input[@name='password']" position="replace">
            <t t-if="cardmode">
                <input type="password" name="password"
                        id="password"
                        class="form-control"
                        required="required"
                        autocomplete="current-password"
                        t-att-autofocus="'autofocus'"
                        placeholder="Please check your card ..."
                        maxlength="4096"/>
            </t>
            <t t-else="">
                <input type="password" name="password"
                        id="password"
                        class="form-control"
                        required="required"
                        autocomplete="current-password"
                        t-att-autofocus="'autofocus' if login else None"
                        placeholder="Password ..."
                        maxlength="4096"/>
            </t>
        </xpath>

        <xpath expr="//span[hasclass('input-group-btn')]/a[@href='/web/database/selector']" position="replace">
            <a href="/web/database/selector" class="btn btn-default btn-select"><i class="fa fa-database"></i></a>
        </xpath>
    </template>

</odoo>
